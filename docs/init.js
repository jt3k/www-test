!function(){var a=new function(){var a=[];this.createElement=function(b,c){var d=document.createElement(b);a.push(d);for(var e in c)c.hasOwnProperty(e)&&d.setAttribute(e,c[e]);return d},this.appendElement=function(a,b){b instanceof Array||(b=[b]);for(var c=0;c<b.length;c++)a.appendChild(b[c])},this.removeAllElements=function(){for(;a.length>0;){var b=a.pop();removeElement(b)}},this.removeElement=function(a){a instanceof HTMLElement&&a.parentNode.removeChild(a)}},b=new function(){function c(b,c){var d=document.createElement("script");return d.type="text/javascript",d.src=c,a.appendElement(b,d),d}function d(b){var c=document.createElement("link");c.rel="stylesheet",c.href=i+"external.css",a.appendElement(b,c)}function e(a){return c(a,i+"previewMode/main.js")}function f(a){c(a,i+"ace/ace.js")}function g(){var a=window.document;a.open(),a.write("<!DOCTYPE html><html><head><style>html,body {margin: 0; padding: 0}</style><link href='https://fonts.googleapis.com/css?family=Roboto:400,300,500,700' rel='stylesheet' type='text/css'></head><body></body></html>"),a.close()}function h(){var c=a.createElement("div",{class:"dy-onsite-source"}),e=a.createElement("button",{class:"dy-rotate-preview"}),f=a.createElement("a",{class:"dy-about-mobile-view"});k=a.createElement("iframe",{class:"dy-onsite-iframe-source"}),k.src=window.location.href,k.addEventListener("load",function(){d(k.contentDocument.getElementsByTagName("head")[0]),j=null,b.createOnSiteEditorIframe()}),e.innerHTML='<i class="dy-icon dy-icon-rotate-device"></i><span class="dy-rotate-preview-text">Rotate device</span>',e.onclick=DyPreviewMode.rotateDevice,e.style.setProperty("display","none"),f.innerHTML='<i class="dy-icon dy-icon-help"></i> <span>about mobile view</span>',f.href="https://support.dynamicyield.com/article/custom-actions/page-actions/#Page-Action-Mobile-View",f.target="_blank",f.style.setProperty("display","none"),a.appendElement(document.body,c),a.appendElement(c,e),a.appendElement(c,k),a.appendElement(c,f),window.dyPageActionSiteIFrame=k}var i=null,j=null,k=null;this.init=function(a){var b=document.getElementsByTagName("head")[0];i=a,"complete"===document.readyState?(d(b),e(b)):window.addEventListener("load",function(){d(b),e(b)})},this.openSourceInIframe=function(){window.top.dyPageActionSiteIFrame||(window.dyPageActionSiteIFrame=!0,g(),window.addEventListener("load",function(){var a=document.getElementsByTagName("head")[0];e(a).addEventListener("load",function(){h()}),f(a),d(a)}))},this.createOnSiteEditorIframe=function(){if(!j){var b=a.createElement("dy-onsite-iframe-container",{class:"dy-onsite-iframe-container"}),c=a.createElement("div",{class:"dy-onsite-actions-container"});j=a.createElement("iframe",{class:"dy-onsite-editor"}),a.appendElement(b,c),a.appendElement(b,j),a.appendElement(document.body,b),setTimeout(function(){var a=$dy(j).contents()[0],b=($dy(j).contents().find("html").attr("ng-app","dy"),a.body),c=a.head,d=a.createElement("link");d.setAttribute("rel","stylesheet"),d.setAttribute("href",i+"dy.css"),c.appendChild(d);var e=a.createElement("link");e.setAttribute("rel","stylesheet"),e.setAttribute("href",i+"vendor.css"),c.appendChild(e);var f=a.createElement("link");f.setAttribute("rel","stylesheet"),f.setAttribute("href",i+"external.css"),c.appendChild(f);var g=a.createElement("link");g.setAttribute("rel","stylesheet"),g.setAttribute("href","https://fonts.googleapis.com/css?family=Roboto:400,300,500,700"),g.setAttribute("type","text/css"),c.appendChild(g);var h=a.createElement("script");h.src=i+"app.js";var k=a.createElement("div");k.setAttribute("ui-view",""),b.appendChild(k),b.appendChild(h)},10)}}},c=new function(){function a(){var a=location.search.substr(1);b={},a.split("&").forEach(function(a){var c=a.split("=");b[c[0]]=decodeURIComponent(c[1])})}var b=null;this.getParam=function(c){return b||a(),b[c]}};if(-1===document.location.href.indexOf("adm.dynamicyield.com")&&-1===document.location.href.indexOf("adm.dynamicyield.eu")&&-1===document.location.href.indexOf("adm-danger.dynamicserving.com")&&-1===document.location.href.indexOf("adm.dyqa.io")&&-1===document.location.href.indexOf("optimizer.playtech.com")&&-1===document.location.href.indexOf("optimizer.playtech.eu")&&-1===document.location.href.indexOf("adm.firstspirit-ice.com")&&-1===document.location.href.indexOf("adm.firstspirit-ice.eu")&&!window.top.dyOnSiteEditorEnabled){if(window.top.dyOnSiteEditorEnabled=!0,DYO.hosts&&DYO.hosts.cdn){DYO.hosts.cdn;window.DYServerAddress="//"+DYO.hosts.cdn+"/onsite/"}else{window.DYServerAddress="//cdn.dynamicyield.com/onsite/"}try{top.DY.adminServer?window.DYAdminAddress="https://"+top.DY.adminServer+"/":window.DYAdminAddress='https://adm.dynamicyield.com/'}catch(a){window.DYAdminAddress='https://adm.dynamicyield.com/'}var d=window.$dy;d&&!window.top.dyPageActionSiteIFrame&&(d.ajax({type:"GET",url:window.DYAdminAddress+"/public/is_authorized_section",data:{sec:DY.scsec},cache:!1,xhrFields:{withCredentials:!0},dataType:"json",success:function(a,e,f){if(a.allowed)if(c.getParam("_dy_page_action_start")){const g="https://cdn.dynamicyield.com/onsite-experience/production/";d.ajax({type:"GET",url:g+"asset-manifest.json",dataType:"json",success:function(a){const b=a["main.css"],c=a["main.js"],d=document.createElement("link");d.rel="stylesheet",d.href=g+""+b,document.head.appendChild(d);const e=document.createElement("script");e.src=g+""+c,document.head.appendChild(e)}})}else b.createOnSiteEditorIframe();a.whiteLabel&&(top.dyWhiteLabelName=a.whiteLabel)}}),b.init(window.DYServerAddress))}}();